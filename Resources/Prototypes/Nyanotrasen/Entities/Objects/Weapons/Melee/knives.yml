# SPDX-FileCopyrightText: 2023 Fluffiest Floofers <thebluewulf@gmail.com>
# SPDX-FileCopyrightText: 2023 PHCodes <47927305+PHCodes@users.noreply.github.com>
# SPDX-FileCopyrightText: 2024 Debug <49997488+DebugOk@users.noreply.github.com>
# SPDX-FileCopyrightText: 2024 dge21 <129136517+dge21@users.noreply.github.com>
# SPDX-FileCopyrightText: 2025 Rosycup <178287475+Rosycup@users.noreply.github.com>
# SPDX-FileCopyrightText: 2025 sleepyyapril <123355664+sleepyyapril@users.noreply.github.com>
#
# SPDX-License-Identifier: AGPL-3.0-or-later AND MIT

- type: entity
  parent: [CombatKnife, BaseMantisContraband] # TheDen
  id: AntiPsychicKnife
  name: athame # TheDen - Anti-Psychic Knife sounded a little too plain considering the rest of their gear, and the description now includes a vague reference to heretics
  description: "A clawlike knife carved from mnemolith, with swordbreaker teeth along its back. It remains unclear just who exactly is wielding blades against mantes." # TheDen
  components:
  - type: MeleeWeapon
    attackRate: .6666
    damage:
      types:
        Slash: 10 # 12.5 against psychic enemies
        Holy: 5 # 6.25 against supernatural psychic enemies
  - type: DamageOtherOnHit
    damage:
      types:
        Slash: 10 # 12.5 against psychic enemies
        Holy: 5 # 6.25 against supernatural psychic enemies
  - type: StaminaDamageOnHit
    damage: 0
  - type: AntiPsionicWeapon # TheDen - All mantis items based on this knife: 25% more damage to psychics, with a physical damage type and half as much holy damage
    punish: false
    modifiers:
      coefficients:
        Slash: 1.25
        Holy: 1.25 # TheDen - It was 1.2 but I'm tired of doing extra math, 0.05 more holy damage is fine
  - type: EmbeddableProjectile
    sound: /Audio/Weapons/star_hit.ogg
    removalTime: 2
  - type: Sprite
    sprite: Nyanotrasen/Objects/Weapons/Melee/anti_psychic_knife.rsi
    state: icon
  - type: Item
    sprite: Nyanotrasen/Objects/Weapons/Melee/anti_psychic_knife.rsi
    storedSprite:
      state: icon
      sprite: Nyanotrasen/Objects/Weapons/Melee/anti_psychic_knife.rsi
  - type: Tag
    tags:
    # - ForensicBeltEquip # TheDen
    - MantisBeltEquip # TheDen - New tag for clarity
    - MantisKnife
    # - HighRiskItem # TheDen - No longer a steal target
  # - type: StealTarget
  #   stealGroup: AntiPsychicKnife
