- type: entity
  parent: [BaseItem, BaseMantisContraband] # Contraband so the locker doesn't get raided by the mystagogue
  id: LanternMantis
  name: mantis lantern
  description: "An ornate lantern housing an eidolite pyramid that draws energy from the noosphere. Its glow lingers in your vision, imprinting shapes you can't quite name."
  components:
    - type: HandheldLight
      addPrefix: true
      blinkingBehaviourId: blinking
      radiatingBehaviourId: radiating
    - type: LightBehaviour
      behaviours:
        - !type:FadeBehaviour
          id: radiating
          maxDuration: 2.0
          startValue: 3.0
          endValue: 2.0
          isLooped: true
          reverseWhenFinished: true
        - !type:PulseBehaviour
          id: blinking
          interpolate: Nearest
          maxDuration: 1.0
          minValue: 0.1
          maxValue: 2.0
          isLooped: true
    - type: Sprite
      sprite: _DEN/Objects/Tools/lanternmantis.rsi
      layers:
        - state: lantern
        - state: lantern-on
          shader: unshaded
          visible: false
          map: [ "light" ]
    - type: Item
      sprite: _DEN/Objects/Tools/lanternmantis.rsi
      heldPrefix: off
    - type: PointLight
      enabled: false
      radius: 3
      energy: 3 # 0.5 brighter than a normal lantern because it's a darker color
      color: "#d9418d"
      netsync: false
    - type: Appearance
    - type: ToggleableVisuals
      spriteLayer: light
    - type: ItemTogglePointLight
    - type: ItemToggle
      predictable: false
      soundActivate:
        path: /Audio/_DEN/Effects/crystalshimmer1.ogg
        params:
          volume: -2
          variation: 0.05
      soundDeactivate:
        path: /Audio/_DEN/Effects/crystalshimmer2.ogg
        params:
          volume: -2
          variation: 0.05
    - type: StealTarget
      stealGroup: LAMP # The moths are coming the moths are coming
    - type: Clothing
      sprite: _DEN/Objects/Tools/lanternmantis.rsi
      equippedPrefix: off
      quickEquip: false
      slots:
        - Belt
        - suitStorage
    - type: Tag
      tags:
      - Flashlight
      - MantisBeltEquip
    - type: UnpoweredFlashlight # Powered by the noosphere
    - type: AntiPsionicWeapon # Same modifiers as the AntiPsychicKnife since it's made of the same material, but it does less damage than a crowbar (even to psychics)
      punish: false
      modifiers:
        coefficients:
          Blunt: 1.25
          Holy: 1.25
    - type: DamageOtherOnHit
      damage:
        types: # Thrown damage
          Blunt: 4.8 # 6 against psychic enemies
          Holy: 2.4 # 3 against supernatural psychic enemies (9 total)
    - type: MeleeWeapon # You can swing it like a weapon since it's a crystal spike, but it's not very good
      attackRate: 1 # Aside from damage and attack rate, it has all the same melee stats (speed, range, etc.) as the AntiPsychicKnife
      range: 1.5
      heavyRateModifier: 1.25
      heavyDamageBaseModifier: 1.2
      maxTargets: 3
      angle: 40
      soundHit:
        path: /Audio/Weapons/block_metal1.ogg
      damage:
        types: # Melee damage
          Blunt: 4.8 # 6 against psychic enemies
          Holy: 2.4 # 3 against supernatural psychic enemies (9 total)
